# VoiceNote — macOS メニューバー音声入力アプリ

## 概要

VoiceNoteは、macOSのメニューバーに常駐する音声入力アプリです。ショートカットキー一発で録音を開始し、話した内容をテキストに変換してアクティブなアプリに自動入力します。AIチャット、メール、ドキュメント作成など、あらゆるテキスト入力シーンで手軽に音声入力が使えます。

## 主な機能

### 🎤 ワンタッチ音声入力
- **右⌘キー × 2回タップ**でどこからでも録音開始・停止
- 録音完了後、書き起こしたテキストを自動でアクティブなアプリにペースト
- メニューバーアイコンからも操作可能

### 🔄 2つの認識エンジン搭載
- **Apple音声認識（高速モード）**: macOS内蔵のオンデバイス音声認識。モデルのダウンロード不要で高速に動作します
- **Whisper（高精度モード）**: OpenAIのWhisper Large V3 Turboモデルを使用。専門用語や英単語混じりの内容も高精度に認識します
- 設定画面からワンタッチで切替可能

### 🗣️ 音声コマンドでMarkdown入力
声だけでMarkdown記法を入力できます：
- **「見出し」** → `## `（見出し）
- **「大見出し」** → `# `（大見出し）
- **「項目」** → `- `（箇条書き）
- **「改行」** → 改行
- **「太字」「ボールド」** → `**`（太字記号）
- 他多数対応

### ✍️ スマート句読点処理
- 疑問文を自動検出して「？」に変換
- 「はてな」「びっくりマーク」等の音声で記号を入力
- 自然な日本語の句読点を自動補正

### 📱 アプリ別プロファイル
アクティブなアプリに応じて出力フォーマットを自動調整：
- **Slack / Discord**: Markdown記号を除去してプレーンテキストで入力
- **VSCode / Xcode**: コード入力用にインデントを調整
- 通常のアプリ: そのまま出力

### 🤖 Gemini API連携（オプション）
- Google Gemini APIキーを設定すると、長い文章のフィラー除去・整形精度が向上
- 未設定でもオフライン整形で動作するため必須ではありません

## 動作環境

- **OS**: macOS 14 (Sonoma) 以降
- **チップ**: Apple Silicon (M1/M2/M3/M4) 推奨
- **ストレージ**: Whisperモード使用時は約3GBの空き容量が必要（モデルの初回ダウンロード）
- **権限**: アクセシビリティ、マイク、音声認識の許可が必要

## インストール方法

1. DMGファイルを開く
2. VoiceNote.appをApplicationsフォルダにドラッグ
3. アプリを起動
4. 初回起動時にアクセシビリティとマイクの許可を求められるので許可してください
5. 右⌘キーを2回タップして録音開始！

## 初回セットアップ

1. **アクセシビリティ許可**: システム設定 > プライバシーとセキュリティ > アクセシビリティ でVoiceNoteを許可
2. **マイク許可**: 初回録音時に自動で許可ダイアログが表示されます
3. **音声認識許可**（Apple音声認識使用時）: システム設定 > プライバシーとセキュリティ > 音声認識 で許可
4. **認識エンジン選択**: 設定画面で「Apple（高速）」または「Whisper（高精度）」を選択

## 設定項目

| 項目 | 説明 |
|------|------|
| 認識エンジン | Apple（高速） / Whisper（高精度） |
| 自動ペースト | ON: 書き起こし後に自動入力 / OFF: クリップボードにコピーのみ |
| 音声コマンド | Markdown音声コマンドの有効/無効 |
| アプリ別プロファイル | 出力フォーマット自動調整の有効/無効 |
| Gemini API | 長文整形用のAPIキー（オプション） |
| Markdown保存 | 書き起こし結果をMarkdownファイルとして保存 |

## よくある質問

**Q: 「ゲートキーパーによりブロックされました」と表示される**
A: システム設定 > プライバシーとセキュリティ で「このまま開く」をクリックしてください。

**Q: ショートカットキーが反応しない**
A: システム設定 > プライバシーとセキュリティ > アクセシビリティ でVoiceNoteが許可されているか確認してください。

**Q: Whisperモデルのダウンロードが始まらない**
A: インターネット接続を確認してください。初回のみ約3GBのモデルをダウンロードします。

**Q: Apple音声認識が動作しない**
A: システム設定 > キーボード > 音声入力 で日本語が有効になっているか確認してください。

## ライセンス・注意事項

- 本アプリはmacOS専用です
- WhisperKit (OpenAI Whisper) をオンデバイスで使用しています
- 音声データはすべてデバイス上で処理され、外部サーバーに送信されません（Gemini API使用時のテキスト整形を除く）
- Apple音声認識はmacOS内蔵機能を使用します

## バージョン情報

- **v1.0.0** — 初回リリース

---

開発: underbar.tokyo
